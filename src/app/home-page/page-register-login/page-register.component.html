<nc-dialog [header]="'注册爱彼迎账号'" [style]="'normal'" [(isShow)]="isDisplay" (isShowChange)="showChange()">
  <div class="content">
    <div class="register-head">已有账号？<span (click)="goLogin()">登录</span></div>
    <div class="register-button" *ngIf="!isShowPhoneReg">
      <nc-button [type]="'major'" [style]="'custom'" [width]="'100%'" [height]="'46px'" (click)="isShowPhoneReg = true">
        <span><svg viewBox="0 0 24 24" role="presentation" aria-hidden="true" focusable="false" style="height: 14px; width: 14px; fill: currentcolor;"><path d="m22.79 18.26-3.44-3.44a1.65 1.65 0 0 0 -2.34 0l-.52.52-1.23 1.23a.66.66 0 0 1 -.94-.01l-6.8-6.8a.66.66 0 0 1 -.01-.94l1.74-1.74c.65-.65.65-1.7 0-2.34l-3.44-3.44a1.65 1.65 0 0 0 -2.34 0l-2.6 2.59c-.59.59-.83 1.65-.54 2.42.01.03.04.13.09.28.08.24.18.51.3.81a33.12 33.12 0 0 0 1.24 2.76c1.4 2.79 3.15 5.37 5.28 7.5 2.35 2.34 4.82 4.01 7.27 5.11.86.39 1.66.67 2.37.88.44.12.75.19.93.22.75.19 1.79-.11 2.37-.68l1.37-1.37.71-.71.52-.52a1.65 1.65 0 0 0 0-2.34zm-18.59-16.25a.65.65 0 0 1 .92 0l3.44 3.44a.65.65 0 0 1 0 .93l-.52.52-.07-.07-4.22-4.22-.07-.07zm15.29 20.48c-.33.33-1.01.52-1.46.41a8.24 8.24 0 0 1 -.85-.2 16.65 16.65 0 0 1 -2.24-.83c-2.34-1.05-4.71-2.65-6.97-4.9-2.05-2.05-3.74-4.55-5.09-7.25a32.02 32.02 0 0 1 -1.2-2.68 23 23 0 0 1 -.38-1.04c-.16-.43-.01-1.08.3-1.39l1.37-1.37.07.07 4.22 4.22.07.07-.52.52a1.66 1.66 0 0 0 .01 2.35l6.8 6.8a1.66 1.66 0 0 0 2.35.01l.52-.52 4.36 4.36-1.37 1.37zm2.6-2.6-.52.52-4.36-4.36.52-.52a.65.65 0 0 1 .93 0l3.44 3.44a.65.65 0 0 1 0 .92z" fill-rule="evenodd"></path></svg></span>
        手机号注册
      </nc-button>
    </div>
    <div class="register-button" *ngIf="!isShowPhoneReg">
      <form action="/oauth_connect?from=wechat_signup&amp;service=wechat" method="POST">
        <input type="hidden" name="authenticity_token" value="V4$.blueskyawen.com/ng-trip-aibiying$I-zcxS3rYds$r-uew3mIpGQW44DWLRoy4yWnbLHJzHggiLCE-Axu8RI=">
        <nc-button [style]="'custom'" [width]="'100%'" [height]="'46px'">
          <span><svg viewBox="0 0 32 32" role="presentation" aria-hidden="true" focusable="false" style="height: 14px; width: 14px; fill: currentcolor;"><path d="m25.09 19.47c-.62 0-1.11-.53-1.08-1.16.02-.59.52-1.08 1.1-1.08.62.01 1.11.54 1.09 1.17a1.08 1.08 0 0 1 -1.1 1.07zm-6.89.01a1.12 1.12 0 0 1 -1.11-1.08 1.13 1.13 0 0 1 1.12-1.16c.62 0 1.13.53 1.1 1.17a1.12 1.12 0 0 1 -1.11 1.07zm-1.31-5.54c-4.74 3.15-5.33 9.05-1.23 12.9 2.15 2.02 4.77 2.85 7.68 2.54.96-.1 1.92-.64 2.84-.54s1.78.73 2.72 1.16c-.43-1.74-.44-2.47.48-3.3 3.16-2.85 3.46-7.35.87-10.74-2.97-3.89-9.15-4.82-13.36-2.02zm-9.74-2.66a1.32 1.32 0 0 1 -1.3-1.38 1.34 1.34 0 0 1 1.39-1.31c.73.02 1.34.67 1.32 1.39a1.36 1.36 0 0 1 -1.4 1.3zm9.89-1.36c.01.77-.56 1.36-1.32 1.37a1.35 1.35 0 0 1 -1.38-1.33c-.01-.72.61-1.36 1.34-1.37a1.33 1.33 0 0 1 1.36 1.33zm5.18 1.29a9.07 9.07 0 0 0 -1.85-4.76c-2.88-3.82-8.21-5.42-12.95-3.85-3.47 1.15-6.03 3.36-7.07 7-1.13 3.94.38 7.76 3.95 10.32.56.4.7.96.52 1.57-.25.83-.45 1.48-.66 2.47 1.17-.74 2.16-1.41 3.2-2 .31-.18.75-.22 1.11-.19 1.06.09 2.12.25 3.28.4-.27-3.17.7-5.72 2.82-7.81 2.1-2.07 4.68-2.98 7.65-3.14z" fill-rule="evenodd"></path></svg></span>
          微信注册
        </nc-button>
      </form>
    </div>
    <div class="phone-register-body" *ngIf="isShowPhoneReg">
      <form novalidate>
        <nc-form-group class="nc-form-item nc-xl-col-12 nc-lg-col-12 nc-md-col-12 nc-sm-col-12 nc-xs-col-12">
          <nc-form-control class="nc-xl-col-12 nc-lg-col-12 nc-md-col-12 nc-sm-col-12 nc-xs-col-12">
            <nc-input [type]="'text'" [(modelValue)]="registerData.name" [iconffix]="'pre'" (modelValueChange)="nameInputChange()"
                      [required]="true" [placeHolder]="'手机号'" [showError]="isNameConflict" [inputErrorText]="nameErrMsg">
              <nc-input-icon class="nc-input-icon-preffix"><span class="fa fa-phone"></span></nc-input-icon>
            </nc-input>
          </nc-form-control>
        </nc-form-group>
        <nc-form-group class="nc-form-item nc-xl-col-12 nc-lg-col-12 nc-md-col-12 nc-sm-col-12 nc-xs-col-12">
          <nc-form-control class="nc-xl-col-12 nc-lg-col-12 nc-md-col-12 nc-sm-col-12 nc-xs-col-12">
            <nc-input [type]="'password'" [(modelValue)]="registerData.password" [iconffix]="'pre'"
                      [required]="true" [placeHolder]="'密码'">
              <nc-input-icon class="nc-input-icon-preffix"><span class="fa fa-lock"></span></nc-input-icon>
            </nc-input>
          </nc-form-control>
        </nc-form-group>

        <nc-form-group class="nc-form-item nc-xl-col-12 nc-lg-col-12 nc-md-col-12 nc-sm-col-12 nc-xs-col-12">
          <nc-form-control
                  class="nc-xl-col-12 nc-lg-col-12 nc-md-col-12 nc-sm-col-12 nc-xs-col-12">
            <div class="nc-flex nc-align-item-center">
              <span style="font-size: 12px;color:#666;">
                <nc-checkbox [(checked)]="registerData.checkFlag" (click)="checkFlag(registerData.checkFlag)"></nc-checkbox>
                <span>我希望通过短信和电话收到爱彼迎与其合作伙伴的礼金券、推广信息、问卷调查和最新动态。</span>
              </span>
            </div>
          </nc-form-control>
        </nc-form-group>

        <nc-form-group class="nc-form-item nc-xl-col-12 nc-lg-col-12 nc-md-col-12 nc-sm-col-12 nc-xs-col-12">
          <nc-form-control class="nc-form-item nc-xl-col-12 nc-lg-col-12 nc-md-col-12 nc-sm-col-12 nc-xs-col-12">
            <nc-button *ngIf="!isLoading" (click)="register()" [style]="'custom'" [type]="'major'"
                       [disabled]="isDisableRegister()"
                       [width]="'100%'" [height]="'36px'">注册</nc-button>
            <nc-button *ngIf="isLoading" [style]="'custom'" [type]="'major'" [width]="'100%'" [height]="'36px'"
                       [disabled]="true" [loading]="true">注册中...</nc-button>
          </nc-form-control>
        </nc-form-group>
      </form>
    </div>
  </div>
  <div class="footer">
    <span class="register-foot" *ngIf="!isShowOthers" (click)="isShowOthers = true">
      使用其他方式注册
    </span>
    <span class="register-foot register-foot-others" *ngIf="isShowOthers">
      <span class="register-foot-head">使用其他方式注册</span>
      <span class="register-items">
        <form action="/oauth_connect?from=wechat_signup&amp;service=wechat" method="POST">
          <input type="hidden" name="authenticity_token" value="V4$.blueskyawen.com/ng-trip-aibiying$I-zcxS3rYds$r-uew3mIpGQW44DWLRoy4yWnbLHJzHggiLCE-Axu8RI=">
          <button class="register-item">
            <span><svg viewBox="0 0 32 32" role="presentation" aria-hidden="true" focusable="false" style="height: 14px; width: 14px; fill: #009933;"><path d="m25.09 19.47c-.62 0-1.11-.53-1.08-1.16.02-.59.52-1.08 1.1-1.08.62.01 1.11.54 1.09 1.17a1.08 1.08 0 0 1 -1.1 1.07zm-6.89.01a1.12 1.12 0 0 1 -1.11-1.08 1.13 1.13 0 0 1 1.12-1.16c.62 0 1.13.53 1.1 1.17a1.12 1.12 0 0 1 -1.11 1.07zm-1.31-5.54c-4.74 3.15-5.33 9.05-1.23 12.9 2.15 2.02 4.77 2.85 7.68 2.54.96-.1 1.92-.64 2.84-.54s1.78.73 2.72 1.16c-.43-1.74-.44-2.47.48-3.3 3.16-2.85 3.46-7.35.87-10.74-2.97-3.89-9.15-4.82-13.36-2.02zm-9.74-2.66a1.32 1.32 0 0 1 -1.3-1.38 1.34 1.34 0 0 1 1.39-1.31c.73.02 1.34.67 1.32 1.39a1.36 1.36 0 0 1 -1.4 1.3zm9.89-1.36c.01.77-.56 1.36-1.32 1.37a1.35 1.35 0 0 1 -1.38-1.33c-.01-.72.61-1.36 1.34-1.37a1.33 1.33 0 0 1 1.36 1.33zm5.18 1.29a9.07 9.07 0 0 0 -1.85-4.76c-2.88-3.82-8.21-5.42-12.95-3.85-3.47 1.15-6.03 3.36-7.07 7-1.13 3.94.38 7.76 3.95 10.32.56.4.7.96.52 1.57-.25.83-.45 1.48-.66 2.47 1.17-.74 2.16-1.41 3.2-2 .31-.18.75-.22 1.11-.19 1.06.09 2.12.25 3.28.4-.27-3.17.7-5.72 2.82-7.81 2.1-2.07 4.68-2.98 7.65-3.14z" fill-rule="evenodd"></path></svg></span>
            微信
          </button>
        </form>
        <form action="/oauth_connect?from=weibo_signup&amp;service=weibo" method="POST" style="display: inline;">
          <input type="hidden" name="authenticity_token" value="V4$.blueskyawen.com$I-zcxS3rYds$r-uew3mIpGQW44DWLRoy4yWnbLHJzHggiLCE-Axu8RI=">
          <button class="register-item">
            <span><svg viewBox="0 0 32 32" role="presentation" aria-hidden="true" focusable="false" style="height: 14px; width: 14px; display: inline-block; fill: rgb(213, 43, 42);"><path d="m30.85 14.19c-.15.61-.85.98-1.46.77-.64-.22-.97-.86-.76-1.5.67-2.14.27-4.05-1.21-5.7-1.37-1.56-3.5-2.17-5.47-1.78-.64.15-1.25-.28-1.37-.89-.15-.64.27-1.29.88-1.41 2.77-.61 5.68.31 7.72 2.51 1.97 2.24 2.55 5.33 1.67 8zm-4.77-5.18c-.95-1.11-2.4-1.53-3.74-1.25-.52.12-.88.61-.79 1.2.12.58.64.92 1.22.8.7-.15 1.31.06 1.82.61.49.58.61 1.23.39 1.9-.15.58.15 1.13.67 1.29a1.02 1.02 0 0 0 1.25-.67c.46-1.44.18-2.73-.82-3.86zm-9.33 13.42c-1 2.33-3.95 3.62-6.5 2.79-2.43-.77-3.53-3.22-2.43-5.42 1.06-2.11 3.8-3.31 6.2-2.69 2.52.64 3.74 3 2.73 5.33zm-5.13-1.81c-.82-.34-1.79 0-2.28.77s-.24 1.68.52 2.05 1.85 0 2.34-.77c.49-.83.24-1.72-.58-2.05zm1.94-.8c-.76-.34-1.37.8-.64 1.07.33.15.64.06.88-.31.15-.34.09-.64-.24-.77zm-.03 6.83c-5.08.52-9.45-1.78-9.79-5.18-.34-3.34 3.49-6.47 8.57-6.99 5.1-.49 9.45 1.84 9.78 5.18.34 3.34-3.55 6.5-8.57 6.99zm10.12-11.14c-.18-.03-.3-.09-.39-.13-.15-.09-.27-.28-.12-.64.52-1.32.55-2.36.03-3.06-1.06-1.44-3.68-1.38-6.81-.06l-.24.09c-.34.12-.67.03-.52-.43.52-1.66.4-2.85-.3-3.62-.89-.86-2.28-.89-4.23-.12-3.92 1.56-10.43 7.35-10.43 12.75 0 1.63.64 3.1 1.91 4.35 2.53 2.57 6.66 3.86 10.95 3.86 3.98 0 7.75-1.23 10.09-2.94 2.31-1.72 3.77-3.86 3.77-5.82 0-2.12-1.67-3.59-3.71-4.23z" fill-rule="evenodd"></path></svg></span>
            微博
          </button>
        </form>
        <form action="/oauth_connect?from=alipay_signup&amp;service=alipay" method="POST" style="display: inline;">
          <input type="hidden" name="authenticity_token" value="V4$.blueskyawen.com$I-zcxS3rYds$r-uew3mIpGQW44DWLRoy4yWnbLHJzHggiLCE-Axu8RI=">
          <button class="register-item">
            <span><svg viewBox="0 0 24 24" role="presentation" aria-hidden="true" focusable="false" style="height: 14px; width: 14px; display: inline-block; fill: rgb(0, 169, 241);"><path d="m16.11 13.94a18.92 18.92 0 0 0 1.99-4.98h-4.9v-1.66h6v-1.02h-6v-2.77h-2.31a.45.45 0 0 0 -.47.38v2.4h-5.62v1.02h5.63v1.66h-4.62v.92h9.33a16.58 16.58 0 0 1 -1.34 3.27c-2.1-.7-3.28-1.18-5.86-1.42-4.89-.46-6.02 2.22-6.2 3.87-.26 2.5 1.95 4.55 5.27 4.55s5.52-1.53 7.62-4.08c2.76 1.32 8.07 3.61 9.29 4.14a4.62 4.62 0 0 1 -4.54 3.78h-14.77a4.61 4.61 0 0 1 -4.61-4.62v-14.77a4.62 4.62 0 0 1 4.61-4.61h14.77a4.62 4.62 0 0 1 4.62 4.61v11.82s-6.47-1.98-7.89-2.49zm-13.34 1.47c-.19.93.37 3.14 3.88 3.14 2.16 0 4.24-1.31 5.93-3.52-2.41-1.17-4.42-1.75-6.66-1.75-1.95 0-2.97 1.2-3.15 2.12z" fill-rule="evenodd"></path></svg></span>
            支付宝
          </button>
        </form>

      </span>
    </span>
  </div>
</nc-dialog>
<nc-message [type]="'success'" [(show)]="showMsg">注册成功</nc-message>
<nc-message [type]="'error'" [(show)]="showFailMsg">注册失败!</nc-message>


